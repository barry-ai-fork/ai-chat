(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[3041],{63118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AuthCode:()=>Z,AuthPassword:()=>E,AuthRegister:()=>b,AuthRegisterEmail:()=>_});var r=n(60748),a=n(33555),o=n(77361),i=n(60782),s=n(32340),l=n(46590),c=n(59107),u=n(97687),d=n(34288),m=n(83716),h=n(62821),g=n(42797),f=n(97799);const p=(0,r.X$)((e=>{let{code:t,codeLength:n,trackingDirection:a,isTracking:o,isBig:i}=e;const[s,l]=(0,r.eJ)(!1),{isMobile:c}=(0,g.ZP)(),u=165/n,d=c?m.qpg:m.z7m,p=(0,r.I4)((()=>l(!0)),[]);return r.ZP.createElement("div",{id:"monkey",className:i?"big":""},!s&&r.ZP.createElement("div",{className:"monkey-preview"}),r.ZP.createElement(f.Z,{size:i?m.K2q:d,className:o?"hidden":void 0,tgsUrl:h.l.MonkeyIdle,play:!o,onLoad:p}),r.ZP.createElement(f.Z,{size:i?m.K2q:d,className:o?"shown":"hidden",tgsUrl:h.l.MonkeyTracking,playSegment:o?function(){const e=t&&t.length>1||a<0?15+u*(t.length-1):0,r=t.length===n?180:15+u*t.length;return a<1?[r,e]:[e,r]}():void 0,speed:2,noLoop:!0}))})),Z=(0,r.X$)((0,a.c$)((e=>(0,i.ei)(e,["authPhoneNumber","authIsCodeViaApp","authIsLoading","authError"])))((e=>{let{authPhoneNumber:t,authIsCodeViaApp:n,authIsLoading:i,authError:m}=e;const{setAuthCode:h,returnToAuthPhoneNumber:g,clearAuthError:f}=(0,a.Sv)(),Z=(0,c.Z)(),v=(0,r.sO)(null),[P,E]=(0,r.eJ)(""),[w,y]=(0,r.eJ)(!1),[b,C]=(0,r.eJ)(1);(0,r.d4)((()=>{o.$b||v.current.focus()}),[]),(0,l.Z)({isActive:!0,onBack:g});const N=(0,r.I4)((e=>{m&&f();const{currentTarget:t}=e;t.value=t.value.replace(/[^\d]+/,"").substr(0,5),t.value!==P&&(E(t.value),w?t.value.length||y(!1):y(!0),P&&P.length>t.value.length?C(-1):C(1),5===t.value.length&&h({code:t.value}))}),[m,f,P,w,h]);return r.ZP.createElement("div",{id:"auth-code-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement(p,{code:P,codeLength:5,isTracking:w,trackingDirection:b}),r.ZP.createElement("h1",null,t,r.ZP.createElement("div",{className:"auth-number-edit",onClick:function(){g()},role:"button",tabIndex:0,title:Z("WrongNumber")},r.ZP.createElement("i",{className:"icon-edit"}))),r.ZP.createElement("p",{className:"note"},(0,s.Z)(Z(n?"SentAppCode":"Login.JustSentSms"),["simple_markdown"])),r.ZP.createElement(u.Z,{ref:v,id:"sign-in-code",label:Z("Code"),onInput:N,value:P,error:m&&Z(m),autoComplete:"off",inputMode:"numeric"}),i&&r.ZP.createElement(d.Z,null)))})));var v=n(93490),P=n(99364);const E=(0,r.X$)((0,a.c$)((e=>(0,i.ei)(e,["authIsLoading","authError","authHint"])))((e=>{let{authIsLoading:t,authError:n,authHint:o}=e;const{setAuthPassword:i,clearAuthError:s}=(0,a.Sv)(),l=(0,c.Z)(),[u,d]=(0,r.eJ)(!1),m=(0,r.I4)((e=>{d(e)}),[]),h=(0,r.I4)((e=>{i({password:e})}),[i]);return r.ZP.createElement("div",{id:"auth-password-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement(v.Z,{isPasswordVisible:u}),r.ZP.createElement("h1",null,l("Login.Header.Password")),r.ZP.createElement("p",{className:"note"},l("Login.EnterPasswordDescription")),r.ZP.createElement(P.Z,{clearError:s,error:n&&l(n),hint:o,isLoading:t,isPasswordVisible:u,onChangePasswordVisibility:m,onSubmit:h})))})));var w=n(231),y=n(90730);const b=(0,r.X$)((0,a.c$)((e=>(0,i.ei)(e,["authIsLoading","authError"])))((e=>{let{authIsLoading:t,authError:n}=e;const{signUp:o,clearAuthError:i,uploadProfilePhoto:s}=(0,a.Sv)(),l=(0,c.Z)(),[d,m]=(0,r.eJ)(!1),[h,g]=(0,r.eJ)(),[f,p]=(0,r.eJ)(""),[Z,v]=(0,r.eJ)(""),P=(0,r.I4)((e=>{n&&i();const{target:t}=e;p(t.value),m(t.value.length>0)}),[n,i]),E=(0,r.I4)((e=>{const{target:t}=e;v(t.value)}),[]);return r.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement("form",{action:"",method:"post",onSubmit:function(e){e.preventDefault(),o({firstName:f,lastName:Z}),h&&s({file:h})}},r.ZP.createElement(y.Z,{onChange:g}),r.ZP.createElement("h2",null,l("YourName")),r.ZP.createElement("p",{className:"note"},l("Login.Register.Desc")),r.ZP.createElement(u.Z,{id:"registration-first-name",label:l("Login.Register.FirstName.Placeholder"),onChange:P,value:f,error:n&&l(n),autoComplete:"given-name"}),r.ZP.createElement(u.Z,{id:"registration-last-name",label:l("Login.Register.LastName.Placeholder"),onChange:E,value:Z,autoComplete:"family-name"}),d&&r.ZP.createElement(w.Z,{type:"submit",ripple:!0,isLoading:t},l("Next")))))}))),C=n.p+"github.cc5da41cefbfea31a26e.svg",N=n.p+"google.324ab349caf94c572718.svg";var A=n(54155),I=n.n(A),S=n(89618);function k(e){const t=e.replace(/#/g,"?"),n=new URL(t),r=Array.from(n.searchParams.entries()).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:r}}),{});return{url:n,query:r}}const L=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);var B=n(42257);let J=!1;const _=(0,r.X$)((0,a.c$)((e=>(0,i.ei)(e,["authError"])))((e=>{let{authError:t}=e;const{clearAuthError:n,showAuthError:o,updateGlobal:i}=(0,a.Sv)(),s=(0,c.Z)(),[l,d]=(0,r.eJ)(!1),[h,g]=(0,r.eJ)(!1),[f,p]=(0,r.eJ)(m.IKD),[Z,v]=(0,r.eJ)(L(f)),[E,y]=(0,r.eJ)(m.vSM),[b,A]=(0,r.eJ)(""),[_,x]=(0,r.eJ)(""),[U,M]=(0,r.eJ)(""),[R,D]=(0,r.eJ)(!1),[$,O]=(0,r.eJ)(!1),[T,j]=(0,r.eJ)(!1),q=(0,r.I4)((e=>{g(!h)}),[h]),V=(0,r.I4)((e=>{t&&n();const{target:r}=e;p(r.value),v(L(r.value))}),[t,n]),z=(0,r.I4)((e=>{_&&x(""),t&&n(),y(e)}),[_,x,n]),H=(0,r.I4)((e=>{U&&M(""),t&&n(),A(e)}),[U,M,n]),K=(0,r.I4)((e=>{O(e)}),[]),F=(0,r.I4)((e=>{j(e)}),[]),X=()=>{i({authState:"authorizationStateReady"})},W=e=>{let{token:t,user:n}=e;localStorage.setItem(m.IPc,JSON.stringify({token:t,user:n})),B.ZP.getMsgClient()&&B.ZP.getMsgClient()?.getState()==B.Pk.connected&&B.ZP.getMsgClient()?.login(t)};return(0,r.d4)((()=>{const{query:e}=k(window.location.href),{code:t,email:n}=e;t&&!J&&(J=!0,p(n),D(!0),v(!0),(async()=>{try{const e=await fetch(`${m.t3z}/auth/token`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({code:t})}),n=await e.json();n.err_msg?o(n.err_msg):(W(n),X())}catch(e){o("network error")}})().then((()=>{window.history.replaceState({},"",window.location.href.split("?")[0])})).finally((()=>{J=!1,D(!1)})))}),[]),(0,r.d4)((()=>{const{query:e}=k(window.location.href),{err_msg:t}=e;t&&(o(t),window.history.replaceState({},"",window.location.href.split("?")[0]))}),[]),r.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement("form",{action:"",method:"post",onSubmit:async function(e){if(e.preventDefault(),!L(f))return o("Email不合法");const t=new(I());if(t.is().min(8).is().max(100).has().uppercase().has().lowercase().has().not().spaces().is().not().oneOf(["Passw0rd","Password123"]),console.log(t.validate("password",{list:!0})),!t.validate(E))return x("密码需要包含大小写字母至少8个字符");if(l){const e={password:(await(0,S.sha1)(E.toString())).toString("hex")};D(!0);try{const t=await fetch(`${m.t3z}/auth/password`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(n.err_msg)return o(n.err_msg);X()}catch(e){o("登录异常")}finally{D(!1)}return}if(h&&E!=b)return M("两次输入的密码不一致");const n=await(0,S.sha1)(E.toString()),r={email:f,password:n.toString("hex")};D(!0);try{const e=await fetch(`${m.t3z}/auth/${h?"reg":"login"}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();if(t.err_msg)return o(t.err_msg);W(t),X()}catch(e){o("登录异常")}finally{D(!1)}}},r.ZP.createElement("h2",null,s("AppName")),r.ZP.createElement("p",{className:"note"},"Ai Chat Application"),r.ZP.createElement(u.Z,{onFocus:n,id:"registration-email",type:"email",label:"Email",onChange:V,value:f,error:t&&s(t)||"",autoComplete:"given-name"}),r.ZP.createElement(P.Z,{clearError:()=>x(""),error:_&&s(_),isPasswordVisible:$,onChangePasswordVisibility:K,onInputChange:z}),h&&r.ZP.createElement(P.Z,{placeholder:"Repeat Password",clearError:()=>M(""),error:U&&s(U),isPasswordVisible:T,onChangePasswordVisibility:F,onInputChange:H}),Z&&r.ZP.createElement(w.Z,{type:"submit",ripple:!0,isLoading:R},s("Next"))),h?r.ZP.createElement("div",{className:"auth-tips"},"Already have an account? ",r.ZP.createElement("u",{className:"auth-tips-action",onClick:q},"Log in")):r.ZP.createElement("div",{className:"auth-tips"},"Don't have an account? ",r.ZP.createElement("u",{className:"auth-tips-action",onClick:q},"Sign up")),r.ZP.createElement("div",{className:"auth-or-line"},r.ZP.createElement("div",{className:"auth-line"}),r.ZP.createElement("div",{className:"auth-or"},"OR")),r.ZP.createElement("div",{className:"oauth-btn"},r.ZP.createElement(w.Z,{type:"button",onClick:()=>{window.location.href="http://localhost:1235/auth/github"},className:"Button translucent round","aria-label":"Github",style:""},r.ZP.createElement("img",{src:C,alt:"Github"})),r.ZP.createElement(w.Z,{type:"button",onClick:()=>{window.location.href="http://localhost:1235/auth/google"},className:"Button translucent round","aria-label":"Google",style:""},r.ZP.createElement("img",{src:N,alt:"Google"})))))})))},99364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(60748),a=n(83716),o=n(77361),i=n(46752),s=n(3858),l=n(59107),c=n(28183),u=n(42797),d=n(231);const m=(0,r.X$)((e=>{let{isLoading:t=!1,isPasswordVisible:n,error:m,hint:h,placeholder:g="Password",submitLabel:f="Next",description:p,shouldShowSubmit:Z,shouldResetValue:v,shouldDisablePasswordManager:P=!1,noRipple:E=!1,clearError:w,onChangePasswordVisibility:y,onInputChange:b,onSubmit:C}=e;const N=(0,r.sO)(null),A=(0,l.Z)(),{isMobile:I}=(0,u.ZP)(),[S,k]=(0,r.eJ)(""),[L,B]=(0,r.eJ)(!1),J=I?550:400;return(0,r.d4)((()=>{v&&k("")}),[v]),(0,c.Z)((()=>{o.$b||N.current.focus()}),J),(0,r.d4)((()=>{m&&requestAnimationFrame((()=>{N.current.focus(),N.current.select()}))}),[m]),r.ZP.createElement("form",{action:"",onSubmit:C?function(e){e.preventDefault(),t||L&&C(S)}:s.Z,autoComplete:"off"},r.ZP.createElement("div",{className:(0,i.Z)("input-group password-input",S&&"touched",m&&"error"),dir:A.isRtl?"rtl":void 0},P&&r.ZP.createElement("input",{type:"password",id:"prevent_autofill",autoComplete:"off",className:"visually-hidden",tabIndex:-2}),r.ZP.createElement("input",{onKeyDown:e=>{if("Enter"==e.code&&!C)return e.preventDefault(),e.stopPropagation(),!1},ref:N,className:"form-control",type:n?"text":"password",id:"sign-in-password",value:S||"",autoComplete:P?"one-time-code":"current-password",onChange:function(e){m&&w();const{target:t}=e;k(t.value),B(t.value.length>=a.loe),b&&b(t.value)},maxLength:256,dir:"auto"}),r.ZP.createElement("label",null,m||h||g),r.ZP.createElement("div",{className:"toggle-password",onClick:function(){y(!n)},role:"button",tabIndex:0,title:"Toggle password visibility"},r.ZP.createElement("i",{className:n?"icon-eye":"icon-eye-closed"}))),p&&r.ZP.createElement("p",{className:"description"},p),C&&(L||Z)&&r.ZP.createElement(d.Z,{type:"submit",ripple:!E,isLoading:t,disabled:!L},f))}))},93490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(60748),a=n(83716),o=n(62821),i=n(97799),s=n(28183),l=n(60706),c=n(42797);const u=[0,50],d=[0,20],m=[20,0],h=(0,r.X$)((e=>{let{isPasswordVisible:t,isBig:n}=e;const[h,g]=(0,l.Z)(!1),[f,p]=(0,l.Z)(!1),{isMobile:Z}=(0,c.ZP)(),v=Z?a.qpg:a.z7m;(0,s.Z)(p,2e3);const P=(0,r.I4)(g,[g]);return r.ZP.createElement("div",{id:"monkey",className:n?"big":""},!h&&r.ZP.createElement("div",{className:"monkey-preview"}),r.ZP.createElement(i.Z,{size:n?a.K2q:v,className:f?"hidden":"shown",tgsUrl:o.l.MonkeyClose,playSegment:u,noLoop:!0,onLoad:P}),r.ZP.createElement(i.Z,{size:n?a.K2q:v,className:f?"shown":"hidden",tgsUrl:o.l.MonkeyPeek,playSegment:t?d:m,noLoop:!0}))}))},90730:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(60748),a=n(46752),o=n(66735);const i=(0,r.X$)((e=>{let{title:t="Change your profile picture",disabled:n,isForForum:i,currentAvatarBlobUrl:s,onChange:l}=e;const[c,u]=(0,r.eJ)(),[d,m]=(0,r.eJ)(s);(0,r.d4)((()=>{m(s)}),[s]);const h=(0,r.I4)((e=>{u(void 0),l(e),d&&d!==s&&URL.revokeObjectURL(d),m(URL.createObjectURL(e))}),[d,s,l]),g=(0,r.I4)((()=>{u(void 0)}),[]),f=(0,a.Z)(d&&"filled",n&&"disabled",i&&"rounded-square");return r.ZP.createElement("div",{className:"AvatarEditable"},r.ZP.createElement("label",{className:f,role:"button",tabIndex:0,title:t},r.ZP.createElement("input",{type:"file",onChange:function(e){const t=e.target;t?.files?.[0]&&(u(t.files[0]),t.value="")},accept:"image/png, image/jpeg"}),r.ZP.createElement("i",{className:"icon-camera-add"}),d&&r.ZP.createElement("img",{src:d,alt:"Avatar"})),r.ZP.createElement(o.Z,{file:c,onClose:g,onChange:h}))}))},66735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(60748),a=n(83716),o=n(71394),i=n(59107),s=n(231),l=n(13103),c=n(34288);const u={type:"blob",quality:1,format:"jpeg",circle:!1,size:{width:1024,height:1024}};let d,m,h;const g=(0,r.X$)((e=>{let{file:t,onChange:g,onClose:f}=e;const[p,Z]=(0,r.eJ)(!1);(0,r.d4)((()=>{t&&(p?async function(e){try{const t=document.getElementById("avatar-crop");if(!t)return;const{offsetWidth:n,offsetHeight:r}=t;h=new d(t,{enableZoom:!0,boundary:{width:n,height:r},viewport:{width:n-16,height:r-16,type:"circle"}});const a=await(0,o.YJ)(e);await h.bind({url:a})}catch(e){a.eMD&&console.error(e)}}(t):async function(){return m||(m=Promise.all([n.e(5099),n.e(3472)]).then(n.bind(n,23472)),d=(await m).default),m}().then((()=>Z(!0))))}),[t,p]);const v=(0,i.Z)(),P=(0,r.I4)((async()=>{if(!h)return;const e=await h.result(u),t="string"==typeof e?e:(0,o.hl)(e,"avatar.jpg");g(t)}),[g]);return r.ZP.createElement(l.Z,{isOpen:Boolean(t),onClose:f,title:"Drag to reposition",className:"CropModal",hasCloseButton:!0},p?r.ZP.createElement("div",{id:"avatar-crop"}):r.ZP.createElement(c.Z,null),r.ZP.createElement(s.Z,{className:"confirm-button",round:!0,color:"primary",onClick:P,ariaLabel:v("CropImage")},r.ZP.createElement("i",{className:"icon-check"})))}))},13103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(60748),a=n(517),o=n(46752),i=n(98069),s=n(18674),l=n(31212),c=n(274),u=n(59107),d=n(46590),m=n(231),h=n(62898);const g=e=>{let{dialogRef:t,title:n,className:g,isOpen:f,isSlim:p,header:Z,hasCloseButton:v,noBackdrop:P,noBackdropClose:E,children:w,style:y,onClose:b,onCloseAnimationEnd:C,onEnter:N,shouldSkipHistoryAnimations:A}=e;const{shouldRender:I,transitionClassNames:S}=(0,l.Z)(f,C,A,void 0,A),k=(0,r.sO)(null);(0,r.d4)((()=>{if(f)return(0,i.l_)(),i.In}),[f]),(0,r.d4)((()=>f?(0,a.Z)({onEsc:b,onEnter:N}):void 0),[f,b,N]),(0,r.d4)((()=>f&&k.current?function(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const r=n.findIndex((e=>e.isSameNode(document.activeElement)));let a=0;r>=0&&(a=t.shiftKey?r>0?r-1:n.length-1:r<n.length-1?r+1:0),n[a].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}(k.current):void 0),[f]),(0,d.Z)({isActive:f,onBack:b}),(0,c.Z)((e=>{let[t]=e;return document.body.classList.toggle("has-open-dialog",Boolean(f)),(f||!f&&void 0!==t)&&(0,s.YW)(200),()=>{document.body.classList.remove("has-open-dialog")}}),[f]);const L=(0,u.Z)();if(!I)return;const B=(0,o.Z)("Modal",g,S,P&&"transparent-backdrop",p&&"slim");return r.ZP.createElement(h.Z,null,r.ZP.createElement("div",{ref:k,className:B,tabIndex:-1,role:"dialog"},r.ZP.createElement("div",{className:"modal-container"},r.ZP.createElement("div",{className:"modal-backdrop",onClick:E?void 0:b}),r.ZP.createElement("div",{className:"modal-dialog",ref:t},Z||(n?r.ZP.createElement("div",{className:"modal-header"},v&&r.ZP.createElement(m.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:L("Close"),onClick:b},r.ZP.createElement("i",{className:"icon-close"})),r.ZP.createElement("div",{className:"modal-title"},n)):void 0),r.ZP.createElement("div",{className:"modal-content custom-scroll",style:y},w)))))}},28183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(60748);const a=function(e,t){const n=(0,r.sO)(e);(0,r.bt)((()=>{n.current=e}),[e]),(0,r.d4)((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>n.current()),t);return()=>clearTimeout(e)}),[t])}},89618:(e,t,n)=>{var r=n(48764).lW;const a=n(24736),o=n(66842);function i(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r.from(e);const i=o.length;t&&(o=o.reverse());let s=a(o.toString("hex"),16);return n&&Math.floor(s.toString("2").length/8)>=i&&(s=s.subtract(a(2).pow(a(8*i)))),s}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=a(e),o=[];for(let e=0;e<t;e++)o[e]=n.shiftRight(8*e).and(255);return r.from(o)}function l(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=(e=a(e)).bitLength(),s=Math.ceil(i/8);if(t<s)throw new Error("OverflowError: int too big to convert");if(!o&&e.lesser(a(0)))throw new Error("Cannot convert to unsigned");let l=!1;e.lesser(a(0))&&(l=!0,e=e.abs());const c=e.toString("16").padStart(2*t,"0");let u=r.from(c,"hex");if(n&&(u=u.reverse()),o&&l)if(n){let e=!1;0!==u[0]&&(u[0]-=1);for(let t=0;t<u.length;t++)0!==u[t]?(e&&(u[t]-=1,e=!1),u[t]=255-u[t]):e=!0}else{u[u.length-1]=256-u[u.length-1];for(let e=0;e<u.length-1;e++)u[e]=255-u[e]}return u}function c(e){return r.from(o.randomBytes(e))}function u(e){const t=o.createHash("sha1");return t.update(e),t.digest()}let d;e.exports={readBigIntFromBuffer:i,readBufferFromBigInt:l,generateRandomLong:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return i(c(8),!0,e)},mod:function(e,t){return(e%t+t)%t},crc32:function(e){d||(d=function(){let e;const t=[];for(let n=0;n<256;n++){e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),r.isBuffer(e)||(e=r.from(e));let t=-1;for(let n=0;n<e.length;n++){const r=e[n];t=d[255&(t^r)]^t>>>8}return(-1^t)>>>0},generateRandomBytes:c,generateKeyDataFromNonce:async function(e,t){e=s(e,16),t=s(t,32);const[n,a,o]=await Promise.all([u(r.concat([t,e])),u(r.concat([e,t])),u(r.concat([t,t]))]);return{key:r.concat([n,a.slice(0,12)]),iv:r.concat([a.slice(12,20),o,t.slice(0,4)])}},sha1:u,sha256:function(e){const t=o.createHash("sha256");return t.update(e),t.digest()},bigIntMod:function(e,t){return e.remainder(t).add(t).remainder(t)},modExp:function(e,t,n){e=e.remainder(n);let r=a.one,o=e;for(;t.greater(a.zero);){const e=t.remainder(a(2));t=t.divide(a(2)),e.eq(a.one)&&(r=r.multiply(o),r=r.remainder(n)),o=o.multiply(o),o=o.remainder(n)}return r},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},sleep:e=>new Promise((t=>{setTimeout(t,e)})),getByteArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.toString(2).length,r=Math.floor((n+8-1)/8);return l(a(e),r,!1,t)},toSignedLittleBuffer:s,convertToLittle:function(e){const t=r.alloc(4*e.length);for(let n=0;n<e.length;n++)t.writeUInt32BE(e[n],4*n);return t},bufferXor:function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e[r]^t[r]);return r.from(n)}}},74121:(e,t,n)=>{"use strict";function r(e){const t=new Uint8Array(4*e.length);let n=0;for(let r=0;r<e.length;r++){const a=e[r];t[n++]=a>>>24,t[n++]=a>>16&255,t[n++]=a>>8&255,t[n++]=255&a}return t.buffer}function a(e){return e.buffer}function o(e){const t=new Uint8Array(e),n=new Uint32Array(t.length/4);for(let e=0;e<t.length;e+=4)n[e/4]=t[e]<<24^t[e+1]<<16^t[e+2]<<8^t[e+3];return n}function i(e){return new Uint32Array(e)}n.r(t),n.d(t,{ab2i:()=>c,ab2iBig:()=>i,ab2iLow:()=>o,i2ab:()=>l,i2abBig:()=>a,i2abLow:()=>r,isBigEndian:()=>s});const s=1===new Uint8Array(new Uint32Array([16909060]))[0],l=s?a:r,c=s?i:o},66842:(e,t,n)=>{var r=n(48764).lW;const a=n(28136).default,{i2ab:o,ab2i:i}=n(74121),{getWords:s}=n(77760);class l{constructor(e){this.setBytes(e)}setBytes(e){e=r.from(e),this._counter=e}increment(){for(let e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}}}class c{constructor(e,t){t instanceof l||(t=new l(t)),this._counter=t,this._remainingCounter=void 0,this._remainingCounterIndex=16,this._aes=new a(s(e))}update(e){return this.encrypt(e)}encrypt(e){const t=r.from(e);for(let e=0;e<t.length;e++)16===this._remainingCounterIndex&&(this._remainingCounter=r.from(o(this._aes.encrypt(i(this._counter._counter)))),this._remainingCounterIndex=0,this._counter.increment()),t[e]^=this._remainingCounter[this._remainingCounterIndex++];return t}}class u{constructor(e){this.algorithm=e}update(e){this.data=new Uint8Array(e)}async digest(){return"sha1"===this.algorithm?r.from(await self.crypto.subtle.digest("SHA-1",this.data)):"sha256"===this.algorithm?r.from(await self.crypto.subtle.digest("SHA-256",this.data)):void 0}}e.exports={createCipheriv:function(e,t,n){if(e.includes("ECB"))throw new Error("Not supported");return new c(t,n)},createDecipheriv:function(e,t,n){if(e.includes("ECB"))throw new Error("Not supported");return new c(t,n)},randomBytes:function(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),t},createHash:function(e){return new u(e)},pbkdf2:async function(e,t,n){const a=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]);return r.from(await crypto.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:t,iterations:n},a,512))}}},77760:(e,t,n)=>{"use strict";function r(e,t){return e.charCodeAt(t)<<24^e.charCodeAt(t+1)<<16^e.charCodeAt(t+2)<<8^e.charCodeAt(t+3)}function a(e){if(e instanceof Uint32Array)return e;if("string"==typeof e){if(e.length%4!=0)for(let t=e.length%4;t<=4;t++)e+="\0x00";const t=new Uint32Array(e.length/4);for(let n=0;n<e.length;n+=4)t[n/4]=r(e,n);return t}if(e instanceof Uint8Array){const t=new Uint32Array(e.length/4);for(let n=0;n<e.length;n+=4)t[n/4]=e[n]<<24^e[n+1]<<16^e[n+2]<<8^e[n+3];return t}throw new Error("Unable to create 32-bit words")}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;for(let r=0;r<e.length;r++)n[r]=e[r]^t[r]}n.r(t),n.d(t,{getWords:()=>a,s2i:()=>r,xor:()=>o})},98069:(e,t,n)=>{"use strict";n.d(t,{In:()=>o,l_:()=>a,wT:()=>i});let r=0;function a(){r+=1}function o(){r-=1}function i(){return r>0}},3858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{e.stopPropagation(),e.preventDefault()}}}]);
//# sourceMappingURL=3041.7b53c4bd8f6a1b804414.js.map